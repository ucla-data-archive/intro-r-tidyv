---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 06-ridership-append-files.md in _episodes_rmd/
title: "Append csv Files into One Dataframe"
author: "Tim Dennis"
date: "2019-01-27"
output: html_document
---



## Load needed package


```r
library(tidyverse)
```

```
## ── Attaching packages ────────────────────────────────── tidyverse 1.2.1 ──
```

```
## ✔ ggplot2 3.1.0     ✔ purrr   0.2.5
## ✔ tibble  2.0.1     ✔ dplyr   0.7.8
## ✔ tidyr   0.8.1     ✔ stringr 1.3.1
## ✔ readr   1.3.1     ✔ forcats 0.3.0
```

```
## ── Conflicts ───────────────────────────────────── tidyverse_conflicts() ──
## ✖ dplyr::filter() masks stats::filter()
## ✖ dplyr::lag()    masks stats::lag()
```

* The problem is that we have a number of ridership files by date as csv. We want to get those together into one. In this example we'll use the `purrr` package `map_dfr` function to return data frames created by **row-binding** together the files. Note that this is possible b/c the csv files are the same shape: have identical columns, etc.


```r
# List all files ending with csv in directory
csv_files = list.files(path = 'data/mbtaridership_2016/', pattern = "csv$", full.names = TRUE)
# Read each csv file into a list
ridership <- map_dfr(csv_files, read_csv)
```

```
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
## Parsed with column specification:
## cols(
##   SERVICE_MONTH = col_date(format = ""),
##   MODE_TYPE = col_character(),
##   TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   NUMBER_OF_WEEKDAYS = col_double(),
##   AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
##   ROUTE_OR_LINE = col_character()
## )
```

## Including Plots

You can also embed plots, for example:


```
## Warning in data.matrix(x): NAs introduced by coercion

## Warning in data.matrix(x): NAs introduced by coercion
```

```
## Warning in min(x): no non-missing arguments to min; returning Inf
```

```
## Warning in max(x): no non-missing arguments to max; returning -Inf
```

```
## Error in plot.window(...): need finite 'ylim' values
```

![plot of chunk pressure](figure/pressure-1.png)

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
