---
# Please do not edit this file directly; it is auto generated.
# Instead, please edit 09-ridership-append-files.md in _episodes_rmd/
title: "Append csv Files into One Dataframe"
author: "Tim Dennis"
date: "2019-01-27"
output: html_document
---



## Load needed package


~~~
library(tidyverse)
~~~
{: .language-r}



~~~
── Attaching packages ────────────────────────────────── tidyverse 1.2.1 ──
~~~
{: .output}



~~~
✔ ggplot2 3.1.0     ✔ purrr   0.3.0
✔ tibble  2.0.1     ✔ dplyr   0.7.8
✔ tidyr   0.8.2     ✔ stringr 1.3.1
✔ readr   1.3.1     ✔ forcats 0.3.0
~~~
{: .output}



~~~
── Conflicts ───────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
~~~
{: .output}

* The problem is that we have a number of ridership files by date as csv. We want to get those together into one. In this example we'll use the `purrr` package `map_dfr` function to return data frames created by **row-binding** together the files. Note that this is possible b/c the csv files are the same shape: have identical columns, etc.


~~~
# List all files ending with csv in directory
csv_files = list.files(path = 'data/mbtaridership_2016/', pattern = "csv$", full.names = TRUE)
# Read each csv file into a list
ridership <- map_dfr(csv_files, read_csv)
~~~
{: .language-r}



~~~
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
Parsed with column specification:
cols(
  SERVICE_MONTH = col_date(format = ""),
  MODE_TYPE = col_character(),
  TOTAL_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  NUMBER_OF_WEEKDAYS = col_double(),
  AVERAGE_WEEKDAY_RIDERSHIP_COUNT = col_double(),
  ROUTE_OR_LINE = col_character()
)
~~~
{: .output}

## Including Plots

You can also embed plots, for example:


~~~
Warning in data.matrix(x): NAs introduced by coercion
Warning in data.matrix(x): NAs introduced by coercion
~~~
{: .error}



~~~
Warning in min(x): no non-missing arguments to min; returning Inf
~~~
{: .error}



~~~
Warning in max(x): no non-missing arguments to max; returning -Inf
~~~
{: .error}



~~~
Error in plot.window(...): need finite 'ylim' values
~~~
{: .error}

<img src="../fig/rmd-09-pressure-1.png" title="plot of chunk pressure" alt="plot of chunk pressure" width="612" style="display: block; margin: auto;" />

Note that the `echo = FALSE` parameter was added to the code chunk to prevent printing of the R code that generated the plot.
